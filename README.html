<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<h1 id="fast-falsification-with-adaptive-inputs">Fast Falsification with Adaptive Inputs</h1>
<p>FalStar is a tool for the falsification of hybrid systems. It takes as an input a model (currently: Simulink) and a configuration file and tries to come up with an input signal such that the output signal produced by the model falsifies given requirements.</p>
<p>Requirements</p>
<ul>
<li>Java 1.8, Scala 2.12</li>
<li>Matlab (tested with R2017b)</li>
</ul>
<p>Contact: gidonernst (*) gmail.com</p>
<p>See also <a href="https://cps-vo.org/group/ARCH/FriendlyCompetition">ARCH 2018 friendly competition</a></p>
<h2 id="quickstart">Quickstart</h2>
<p>Link the necessary MATLAB files and binaries</p>
<pre><code>./link $MATLABROOT $ARCH</code></pre>
<p>where <code>$MATLABROOT</code> points to the top-level of a specific Matlab installation (e.g., ending in <code>../MATLAB/R2017b</code>) and where <code>$ARCH</code> <a href="https://www.mathworks.com/help/matlab/matlab_external/setup-environment.html">depends on your OS</a>. For 64 bit systems:</p>
<ul>
<li>Linux: <code>glnxa64</code></li>
<li>Mac OS X: <code>maci64</code></li>
<li>Windows: <code>win64</code></li>
</ul>
<p>Compile <code>falstar.jar</code></p>
<pre><code>make compile</code></pre>
<p>Test whether everything worked</p>
<pre><code>./falstar # prints usage instructions
make test # run a simple test case</code></pre>
<p>This falsifies a Simulink model of an automatic transmission against specification <code>□_[0,30] speed &lt; 120</code> and displays various input and output signals. Here's the output:</p>
<pre><code>trial 1/1
property □_[0.0, 30.0] speed &lt; 120.0
algorithm adaptive
  control points: 2 2 3 3 3 4
  exploration ratio: 0.25
  budget: 100
starting matlab ... connected (4s)
initializing &#39;automatic_transmission&#39; ... done (17s)
......

inputs
  t__ = [0.0; 10.0; 25.0; 30.0]
  u__ = [75.0 0.0; 100.0 0.0; 37.5 243.75; 37.5 243.75]
falsified with robustness -6.849703872580591

statistics
  simulations 6
  total time  29s
  peak memory 37111 kb

bye</code></pre>
<p>If you're tired of waiting for Matlab to initialize on every trial, you can keep an active instance running. Be aware that this caches initialized models as well, so if you change those, you need to restart the session. It's a simple command line interface to Matlab (currently without error handling, and it will terminate if you type in an invalid command).</p>
<pre><code>./falstar-session</code></pre>
<h3 id="simulink-model-set-up">Simulink model set up</h3>
<p>Simulink models are accessed through their input and output ports and through the Matlab function <code>sim</code>. The model must be prepared for use as follows</p>
<ul>
<li>In the model configuration parameter setup, set the input to <code>[t__, u__]</code>. This will cause the simulation to read these two variables off the workspace and interpret them as the simulation input. <code>t__</code> is a column matrix of time points and <code>u__</code> provides the corresponding input vectors in each row for the respective time points (see an example above). The falsification tool provides these variables to the Matlab simulation engine in this form.</li>
<li>The output format should be set to <code>Data structure with time</code> (although this will be selected automatically in the future). The output signal should be recorded to <code>tout</code> and <code>yout</code> (which are the default settings).</li>
<li>Make sure the output signal is not truncated</li>
<li>Make sure that the interpolation settings on the input ports are as desired, for piecewise constant inputs disable interpolation.</li>
</ul>
<h3 id="configuration-file-syntax">Configuration file syntax</h3>
</body>
</html>
