(set-seed 0)

(include "src/test/configuration/models/afc.cfg")

(select-system AFC-M1
  	(piecewise-constant throttle 0 61.1))

; test the configuration and prime the simulation engine

(set-repeat 1)
(set-solver breach 10 cmaes 100)
(falsify AFC27)

(set-solver breach 10 global_nelder_mead 100)
(falsify AFC27)

(set-solver adaptive (10 10 10 10 10) 0.25 100)
(falsify AFC27)

(flush-log)

(set-log "results/paper/afc.csv")


; proper experiment

(set-repeat 50)
(set-solver random 10 100)
; (falsify AFC26_easy AFC26_mid AFC26_hard AFC27 AFC29)

(set-repeat 50)
(set-solver breach 10 cmaes 100)
; (falsify AFC26_easy AFC26_mid AFC26_hard AFC27 AFC29)
(falsify AFC29)

(set-repeat 1)
(set-solver breach 10 global_nelder_mead 100)
; (falsify AFC26_easy AFC26_mid AFC26_hard AFC27 AFC29)
(falsify AFC29)

(set-repeat 50)
(set-solver adaptive (10 10 10 10 10) 0.25 100)
(falsify AFC26_easy AFC26_mid AFC26_hard AFC27 AFC29)

(flush-log)


; normal and power mode
(select-system AFC-M1)

(set-repeat 50)
(set-solver random 10 100)
(falsify AFC32)
(flush-log)

(set-repeat 50)
(set-solver breach 10 cmaes 100)
(falsify AFC32)
(flush-log)

(set-repeat 1)
(set-solver breach 10 global_nelder_mead 100)
(falsify AFC32)
(flush-log)

(set-repeat 50)
(set-solver adaptive (10 10 10 10 10) 0.25 100)
(falsify AFC32)
(flush-log)


; just power mode
(select-system AFC-M1
  	(piecewise-constant throttle 61.2 81.2))

(set-repeat 50)
(set-solver random 10 100)
(falsify AFC33)
(flush-log)

(set-repeat 50)
(set-solver breach 10 cmaes 100)
(falsify AFC33)
(flush-log)

(set-repeat 1)
(set-solver breach 10 global_nelder_mead 100)
(falsify AFC33)
(flush-log)

(set-repeat 50)
(set-solver adaptive (10 10 10 10 10) 0.25 100)
(falsify AFC33)
(flush-log)

